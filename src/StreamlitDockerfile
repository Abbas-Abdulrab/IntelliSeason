FROM python:3.11-slim

# Change the ownership of your application directory to the new user
# Assuming your application is in /app
WORKDIR /app
COPY . /app
RUN chown -R appuser:appuser /app

# Switch to the new user
USER appuser

RUN pip install --no-cache-dir -r requirements.txt

EXPOSE 8501

CMD ["streamlit", "run", "streamlit.py", "--server.headless=True"]
