FROM python:3.11-slim

# Create a new user named "appuser" with a home directory
RUN useradd -m appuser

# Change the ownership of your application directory to the new user
# Assuming your application is in /app
WORKDIR /app
COPY . /app
RUN chown -R appuser:appuser /app

# Switch to the new user
USER appuser

RUN pip install --no-cache-dir -r requirements.txt

EXPOSE 5000

CMD ["python", "flask_server.py"]
